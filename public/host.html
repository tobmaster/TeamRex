<!-- host.html -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Host</title>
</head>

<body>
  <h1>Host</h1>
  <script>
    const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
    const socket = new WebSocket(`${wsProtocol}//${document.location.host}/`);
    socket.onopen = () => {
      socket.send(JSON.stringify({ id: "sys", message: "host" }));
      console.log('Connected to server as master');
    };
    socket.onmessage = (event) => {
      console.log('Received message:', event.data);
    };
  </script>
</body>

</html>